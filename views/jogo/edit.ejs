<%-include('../cabecalho.ejs')%>
<h1>Editar Jogo</h1>
<div>
    <form method="post">
        <input type="hidden" name="id" value="<%=Jogo.id%>" required readonly>
        <br>
        <label>Nome:</label>
        <input type="text" name="nome" value="<%=Jogo.nome%>" required>
        <br>
        <label>Gêneros:</label>
        <checklistbox name="generos" required>
            <% generos.forEach(function(genero) { %>
                <label>
                    <input type="checkbox" name="generos" value="<%= genero.nome %>" <%= Jogo.generos.includes(genero.nome) ? 'checked' : '' %>>
                    <%= genero.nome %>
                </label>
            <% }); %>
        </checklistbox>
        <br>
        <label>Preço:</label>
        <input type="number" step="0.01" name="preco" value="<%=Jogo.preco%>" required>
        <br>
        <label>Descrição:</label>
        <textarea name="descricao" required><%=Jogo.descricao%></textarea>
        <br>
        <label>Memória RAM Mínima:</label>
        <input type="text" name="minRam" value="<%=Jogo.minRam%>" required>
        <br>
        <label>Armazenamento:</label>
        <input type="text" name="armazenamento" value="<%=Jogo.armazenamento%>" required>
        <br>
        <label>Poster:</label>
        <input type="file" name="poster" accept="image/*">
        <br>
        <label>Distribuidora:</label>
        <select name="distribuidora" required>
            <% distribuidoras.forEach(function(distribuidora) { %>
                <option value="<%= distribuidora._id %>" <%= Jogo.distribuidora.equals(distribuidora._id) ? 'selected' : '' %>><%= distribuidora.nome %></option>
            <% }); %>
        </select>
        <br>
        <label>Desenvolvedora:</label>
        <select name="desenvolvedora" required>
            <% desenvolvedoras.forEach(function(desenvolvedora) { %>
                <option value="<%= desenvolvedora._id %>" <%= Jogo.desenvolvedora.equals(desenvolvedora._id) ? 'selected' : '' %>><%= desenvolvedora.nome %></option>
            <% }); %>
        </select>
        <br>
        <label>Data de Lançamento:</label>
        <input type="date" name="dataDeLancamento" value="<%=Jogo.dataDeLancamento.toISOString().split('T')[0]%>" required>
        <br>
        <button type="submit">Salvar</button>
    </form>
</div>
<%-include('../rodape.ejs')%>